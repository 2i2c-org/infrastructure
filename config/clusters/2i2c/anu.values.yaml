jupyterhub:
  custom:
    2i2c:
      add_staff_user_ids_to_admin_users: true
      add_staff_user_ids_of_type: "google"
    homepage:
      templateVars:
        org:
          name: The Australian National University
          logo_url: https://upload.wikimedia.org/wikipedia/en/thumb/4/4c/Australian_National_University_%28emblem%29.svg/320px-Australian_National_University_%28emblem%29.svg.png
          url: https://www.anu.edu.au/
        designed_by:
          name: 2i2c
          url: https://2i2c.org
        operated_by:
          name: 2i2c
          url: https://2i2c.org
        funded_by:
          name: ANU
          url: https://www.anu.edu.au/
  singleuser:
    memory:
      limit: 2G
      guarantee: 2G
    cpu:
      guarantee: 1
      limit: 2
    image:
      name: quay.io/mmcky/anu-emet2007
      tag: "b7937f446fe6"
  hub:
    config:
      JupyterHub:
        authenticator_class: cilogon
      CILogonOAuthenticator:
        oauth_callback_url: https://anu.pilot.2i2c.cloud/hub/oauth_callback
        admin_users:
          - matthew.mckay@anu.edu.au
        # Only show the option to login with Google and ANU
        shown_idps:
          - https://idp2.anu.edu.au/idp/shibboleth
          - https://accounts.google.com/o/oauth2/auth
        allowed_idps:
          http://google.com/accounts/o8/id:
              username_derivation:
                username_claim: "email"
          https://idp2.anu.edu.au/idp/shibboleth:
                username_derivation:
                username_claim: "email"
      Authenticator:
        # We only want 2i2c and any users to sign up
        username_pattern: '^(.+@2i2c\.org|.+@anu\.edu\.au|deployment-service-check)$'
        # Delete any prior existing users in the db that don't pass username_pattern
        # delete_invalid_users: true
