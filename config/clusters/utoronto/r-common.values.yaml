jupyterhub:
  custom:
    homepage:
      templateVars:
        # This sets the default selected interface option
        default_url: /rstudio
  hub:
    config:
      KubeSpawner:
        # Ensures container working dir is homedir
        # https://github.com/2i2c-org/infrastructure/issues/2559
        working_dir: /home/rstudio
  singleuser:
    defaultUrl: /rstudio
    image:
      name: quay.io/2i2c/utoronto-r-image
      tag: "b0f448387134"
    extraFiles:
      github-app-private-key.pem:
        mountPath: /etc/github/github-app-private-key.pem
        # stringData field will be set via encrypted values files but added here
        # to meet the chart schema validation requirements without the need to
        # use secret values during the validation.
        stringData: "dummy"
      gitconfig:
        mountPath: /etc/gitconfig
        # app-id comes from https://github.com/organizations/utoronto-2i2c/settings/apps/utoronto-r-hub-private-cloner
        stringData: |
          [credential "https://github.com"]
          helper = !git-credential-github-app --app-key-file /etc/github/github-app-private-key.pem --app-id 93515
          useHttpPath = true
