jupyterhub:
  ingress:
    enabled: false
    hosts: [hub.binder.pythia.2i2c.cloud]
    tls:
      - hosts: [hub.binder.pythia.2i2c.cloud]
        secretName: https-auto-tls
  custom:
    2i2c:
      add_staff_user_ids_to_admin_users: false
    jupyterhubConfigurator:
      enabled: false
    binderhubUI:
      enabled: true
    homepage:
      gitRepoBranch: "no-homepage-subsections"
      templateVars:
        org:
          name: ""
    singleuserAdmin:
      extraVolumeMounts: []
  singleuser:
    storage:
      type: none
      extraVolumeMounts: []
    initContainers: []
  hub:
    redirectToServer: false
    services:
      binder: {}
    loadRoles:
      binder:
        services:
          - binder
        scopes:
          - servers
          - read:users # admin:users is required if authentication isn't enabled
      user:
        scopes:
          - self
          # Admin users will by default have access:services, so this is only
          # observed to be required for non-admin users.
          - access:services!service=binder
binderhub-service:
  enabled: true
  ingress:
    enabled: true
    hosts: [binder.pythia.2i2c.cloud]
    tls:
      - hosts: [binder.pythia.2i2c.cloud]
        secretName: binder-https-auto-tls
  config:
    GitHubRepoProvider:
      allowed_specs:
        - ^ProjectPythia/.*$
    BinderHub:
      base_url: /
      badge_base_url: https://binder.pythia.2i2c.cloud
      enable_api_only_mode: false
      banner_message: ""
      about_message: Binder for use with Project Pythia
      image_prefix: quay.io/2i2c-projectpythia/binderhub-ui-
  extraEnv:
    - name: JUPYTERHUB_API_TOKEN
      valueFrom:
        secretKeyRef:
          name: hub
          key: hub.services.binder.apiToken
