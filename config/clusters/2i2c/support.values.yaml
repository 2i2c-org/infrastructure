prometheusIngressAuthSecret:
  enabled: true

prometheusStorageClass:
  gke:
    enabled: true

prometheus:
  server:
    persistentVolume:
      # 100Gi filled up, and this is source of our billing data.
      size: 512Gi
      storageClass: balanced-rwo-retain
    ingress:
      enabled: true
      hosts:
        - prometheus.pilot.2i2c.cloud
      tls:
        - secretName: prometheus-tls
          hosts:
            - prometheus.pilot.2i2c.cloud

grafana:
  grafana.ini:
    server:
      root_url: https://grafana.pilot.2i2c.cloud/
    auth.github:
      enabled: true
      allowed_organizations: 2i2c-org
    feature_toggles:
      enable: exploreMixedDatasource
    # We delete the initial "prometheus" data source from the database to avoid confusion.
    # This is because the 2i2c grafana is the central one and we call this datasource "2i2c"
    # instead of "prometheus" to be more clear what's about.
    # This config-added datasource can only be deleted link this,
    # the UI and API are disabled for this operation.
    deleteDatasources:
      - name: prometheus
        orgId: 1
  ingress:
    hosts:
      - grafana.pilot.2i2c.cloud
    tls:
      - secretName: grafana-tls
        hosts:
          - grafana.pilot.2i2c.cloud
  plugins:
    - grafana-bigquery-datasource
