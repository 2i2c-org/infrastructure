$schema: 'http://json-schema.org/draft-07/schema#'
type: object
additionalProperties: false
properties:
  hubs:
    type: array
    description: |
      Each item here is additional config for a hub deployed to this cluster.
    required:
      - name
      - config
    items:
      - type: object
        additionalProperties: false
        properties:
          name:
            type: string
            description: |
              Name of the hub. This will be used to determine
              the namespace the hub is deployed to
          config:
            type: object
            description: |
              YAML configuration containing secrets that is passed through to helm.
          domain:
            type: string
            description: |
              Domain the hub should be running on. This domain should resolve
              to the IP of the ingress controller on the cluster - most likely
              via a wildcard DNS entry.

              For example, there's a entry for '*.pilot.2i2c.cloud' pointing to
              the ingress controller of the cluster running hubs in `2i2c.cluster.yaml`.
              Similar for '*.cloudbank.2i2c.cloud', etc.
  grafana_token:
    type: string
    description: |
      A cluster specific grafana token.
