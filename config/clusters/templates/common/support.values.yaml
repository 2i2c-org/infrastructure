prometheusIngressAuthSecret:
  enabled: true

{% if provider == "gcp" %}
prometheusStorageClass:
  gke:
    enabled: true
{% endif %}

prometheus:
  server:
    persistentVolume:
      size: 100Gi
    ingress:
      enabled: true
      hosts:
        - prometheus.{{ cluster_name }}.2i2c.cloud
      tls:
        - secretName: prometheus-tls
          hosts:
            - prometheus.{{ cluster_name }}.2i2c.cloud

grafana:
  grafana.ini:
    server:
      root_url: https://grafana.{{ cluster_name }}.2i2c.cloud/
  auth.github:
    enabled: true
    allowed_organizations: 2i2c-org
  persistence:
    # We don't need 10Gi on the Grafana persistent directory
    size: 1Gi
  ingress:
    hosts:
      - grafana.{{ cluster_name }}.2i2c.cloud
    tls:
      - secretName: grafana-tls
        hosts:
          - grafana.{{ cluster_name }}.2i2c.cloud

{% if provider == "aws" %}
cluster-autoscaler:
  enabled: true
  autoDiscovery:
    clusterName: {{ cluster_name }}
  awsRegion: {{ cluster_region }}

calico:
  enabled: true


# FIXME: remove this once eksctl is fixed
nvidiaDevicePlugin:
  aws:
    enabled: true
{% endif %}
